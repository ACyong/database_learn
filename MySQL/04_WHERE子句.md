# WHERE子句
> WHERE子句主要是配合DML 数据的删、改两种操作和DQL 查询操作使用的，掌握WHERE子句是学习如何进行复杂查询的前提
---


## 1、运算符操作（配合查询、修改、删除操作）

1. 数值比较&字符比较
```
1、数值比较运算符：=、!=、>、>=、<、<=
2、字符比较运算符：=、!=
3、为空：is null
4、非空：is not null
5、运算符：between and、in、not in
```

2. 逻辑比较
```
1、and 多个条件同时满足
2、or 多个条件有一个条件满足就可以
3、in 在指定条件范围内
4、not 非
```
注意：and 要比or 的优先级高，使用小括号能提高优先级


3. 模糊比较
> 格式：字段名 like 表达式

```
1、_ ：匹配单个字符
2、% ：匹配0到多个字符
```

注意：
```
在实际操作过程中，建议尽量少用通配符，因为它需要消耗数据库更长的时间来进行匹配。即使对 LIKE 检索的字段进行了索引，索引的价值也可能会失效。如果要让索引生效，那么 LIKE 后面就不能以（%）开头，比如使用LIKE '%检索的值%'或LIKE '%检索的值'的时候就会对全表进行扫描。如果使用LIKE '检索的值%'，同时检索的字段进行了索引的时候，则不会进行全表扫描。另外，单独的LIKE '%'无法查出 NULL 值，比如：SELECT * FROM 表名 WHERE 字段名 LIKE '%'。
```
---


## 2、查询

1. 语法格式
```
SELECT * FROM 表名 [WHERE 字段名 运算符 数字\字符]; 
或：
SELECT 字段名, ... FROM 表名 [WHERE 字段名 运算符 数字\字符];
```

注意：
```
使用SELECT *，因为使用方便。如果只是练习，或者对数据表进行探索，那么是可以使用SELECT *的。它的查询效率和把所有列名都写出来再进行查询的效率相差并不大。生产环境下，不推荐直接使用SELECT *进行查询，因为考虑到在实际的工作中，往往不需要全部的列名，所以如果不需要把所有列都检索出来，还是先指定出所需的列名，因为写清列名，可以减少数据表查询的网络传输量，减少数据库的负担。因此需要养成良好的习惯，写出所需的列名
```

2. 起别名
```
SELECT 字段名 AS 别名, ... FROM 表名 [WHERE 字段名 运算符 数字\字符];
```

注：一般来说起别名的作用是对原有名称进行简化，从而让 SQL 语句看起来更精简。同样也可以对表名称起别名，这个在多表连接查询的时候会用到。

3. 查询常数
```
SELECT '查询常数' as 自定义字段名, 字段名, ... FROM 表名 [WHERE 字段名 运算符 数字\字符];
```

注意：
```
查询常数就是在 SELECT 查询结果中增加一列固定的常数列。这列的取值是我们指定的，而不是从数据表中动态取出的。一般来说我们只从一个表中查询数据，通常不需要增加一个固定的常数列，但如果想整合不同的数据源，用常数列作为这个表的标记，就需要查询常数。需要说明的是，如果常数是个字符串，那么使用单引号（‘’）就非常重要了，比如‘查询常数’。单引号说明引号中的字符串是个常数，否则 SQL 会把 查询常数 当成列名进行查询，但实际上数据表里没有这个列名，就会引起错误。如果常数是英文字母，比如'WZRY'也需要加引号。如果常数是个数字，就可以直接写数字，不需要单引号
```
---


## 3、修改语法格式
```
UPDATE 表名 SET 字段名 = 值, ...[WHERE 字段名 运算符 数字\字符];
```
---


## 4、删除语法格式
```
DELETE FROM 表名 [WHERE 字段名 运算符 数字\字符];
```

注意：
```
如果使用了WHERE子句，对于某个字段进行了条件筛选，那么这个字段可以通过建立索引的方式进行SQL优化。
因为在进行SQL优化的时候，应该尽量避免全表扫描。所以使用WHERE子句对某个字段进行了条件筛选时，如果没有对这个字段建立索引，就会进入到全表扫描，因此可以考虑对这个字段建立索引。

当然也需要注意 索引是否会失效。因此除了考虑建立字段索引以外，你还需要考虑：
1、不要在WHERE子句后面对字段做函数处理，同时也避免对索引字段进行数据类型转换
2、避免在索引字段上使用!=，以及对字段进行NULL判断（包括 IS NULL, IS NOT NULL）
3、在索引字段后，慎用IN和NOT IN，如果是连续的数值，可以考虑用BETWEEN进行替换
因为在WHERE子句中，如果对索引字段进行了函数处理，或者使用了!=或NULL判断等，都会造成索引失效。
```
